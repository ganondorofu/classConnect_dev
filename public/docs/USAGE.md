
# ClassConnect 利用ガイド

ClassConnect（クラスコネクト）をご利用いただきありがとうございます。
このガイドでは、ClassConnectの基本的な使い方と便利な機能について説明します。

## 1. ClassConnectとは？

ClassConnectは、クラスの時間割や日々の連絡事項、課題などを簡単に共有・確認できるウェブアプリケーションです。
先生と生徒（または保護者）間の情報伝達をスムーズにし、教室運営をサポートします。

---

## 2. 基本的な使い方

### 2.1. ダッシュボード（ホーム画面）
アプリを開くと最初に表示される画面です。ここから各機能へアクセスできます。
画面左上のメニューボタン（ハンバーガーアイコン）をタップ/クリックすると、ナビゲーションメニュー（サイドバー）が表示されます。

### 2.2. 時間割の確認
ホーム画面に、選択した日付の週の時間割が表示されます。
*   **日付の移動:** 画面上部の日付ナビゲーションで、前日/翌日、前週/翌週へ簡単に移動できます。カレンダーアイコンから特定の日付を選択することも可能です。
*   **連絡事項:** 各時間割のマスには、その授業に関する連絡事項（持ち物、テスト範囲など）が表示されることがあります。
*   **行事・課題:** 時間割の上部や各コマには、その日に関連する学校行事や提出課題が表示されることがあります。

### 2.3. 全体のお知らせ
ホーム画面の上部に、その日全体の連絡事項が表示されます。先生からの重要なお知らせなどが掲載されます。
AIによる要約機能があり、長いお知らせもポイントを絞って確認できます（管理者が有効にしている場合）。

### 2.4. カレンダー
*   月間の予定（学校行事、時間割に登録された「カレンダーに表示」がオンの連絡事項、課題の提出期限など）を確認できます。
*   日付をクリックすると、その日の予定詳細が表示され、時間割ページへ移動することもできます。
*   行事の追加・編集・削除は管理権限を持つユーザーのみ可能です。

### 2.5. 課題一覧
*   登録されている課題を一覧で確認できます。
*   提出期限、科目、完了状態などでフィルタリングしたり、並び替えたりすることができます。
*   課題の追加・編集・削除、完了状態の切り替えが可能です（管理権限に関わらず全員可能）。

### 2.6. 更新ログ
*   ClassConnectのアップデート情報や新機能、バグ修正の履歴を確認できます。

### 2.7. お問い合わせ
*   ClassConnectに関するご意見、ご要望、不具合の報告などを匿名で送信できます。
*   お問い合わせ種別（バグ報告、機能要望など）を選択し、内容を記入してください。メールアドレスの入力は任意です。

### 2.8. ヘルプ
*   この利用ガイドです。困ったときにご参照ください。

---

## 3. 各機能の詳細

### 3.1. 時間割の変更・連絡事項の入力
*   時間割の各マスをクリックすると、そのコマの科目変更や連絡事項の入力、カレンダーへの表示設定を行うダイアログが表示されます。
*   **科目変更:** 基本の時間割と異なる科目を設定できます。
*   **連絡内容:** 持ち物や小テストの範囲など、自由な形式で連絡事項を記入できます。
*   **カレンダーに表示:** このチェックをオンにすると、カレンダーにもこの連絡事項（主に科目名）が表示されます。
*   **クリア:** 入力した科目変更や連絡事項をリセットし、基本の時間割の状態に戻します。
*   **元の教科に戻す:** 科目変更のみをリセットし、基本の時間割の科目を表示します（連絡内容は維持されます）。

### 3.2. 課題の登録・編集
課題一覧ページまたはカレンダーから課題を登録・編集できます。
*   **課題名:** 課題のタイトル。
*   **科目:** 関連する科目を選択します。「その他」を選択すると、自由な科目名（例: PTA会費集金）を入力できます。
*   **提出期限:** 課題の提出日。
*   **提出時限:** 提出する授業の時限（任意）。
*   **内容:** 課題の詳細な説明。
*   **提出方法:** 提出方法（例: ノートに解いて提出、オンラインで提出など）（任意）。
*   **対象者:** 課題の対象者（例: 全員、希望者のみなど）（任意）。
*   **完了状態:** 課題が完了したかどうかをチェックボックスで管理できます。

---
<!-- ADMIN_SECTION_START -->
## 4. 管理者向け機能

**このセクションは管理者権限を持つユーザー向けの説明です。**

### 4.1. 管理者ログイン
*   画面右上の「管理者ログイン」ボタンから、専用のメールアドレスとパスワードでログインします。
*   ログインすると、管理者専用のメニューや機能が利用可能になります。

### 4.2. 科目管理
*   授業で使われる科目を登録・編集・削除できます。
*   科目名と担当教員名（任意）を設定できます。
*   ここで登録した科目が、時間割設定や課題登録時の選択肢として表示されます。
*   科目を削除すると、その科目が割り当てられていた固定時間割および日々の時間割の該当箇所は「未設定」になります。

### 4.3. 時間割設定（基本設定）
*   **1日の時間数:** クラスの標準的な1日の時間数を設定します（例: 6時間、7時間）。
*   **固定時間割の設定:** 月曜日から金曜日（または設定で有効にした曜日）の基本的な時間割を科目ごとに設定します。
    *   ここで設定した内容は、将来の日付の毎日の時間割に自動的に適用されます（約2ヶ月先まで）。
    *   「固定時間割を保存」ボタンを押すと、変更が保存され、将来の時間割にも反映されます。
*   **時間割を初期化:** 現在設定されている固定時間割のすべての科目を「未設定」に戻します。この操作は将来の時間割にも影響します。
*   **将来の時間割を基本で上書き:** 現在保存されている固定時間割の内容で、将来の日付のすべての時間割（手動での変更を含む）を強制的に上書きします。

### 4.4. 問い合わせ管理
*   ユーザーから送信されたお問い合わせを一覧で確認できます。
*   お問い合わせごとにステータス（新規、対応中、解決済み、対応しない）を変更できます。
*   お問い合わせ内容の詳細を閲覧できます。

### 4.5. 変更履歴（ログ）
*   ClassConnect内で行われた主要な操作（設定変更、時間割更新、お知らせ作成など）の履歴を確認できます。
*   一部の操作については、その操作を元に戻す「ロールバック」機能が利用できます。
    *   ロールバックを行うと、その操作が取り消され、データが操作前の状態に戻ります。
    *   ロールバック操作自体もログに記録され、誤ってロールバックした場合に再度元に戻す（ロールバックの取り消し）ことも可能です。
    *   **注意:** 複雑な操作や依存関係のある変更のロールバックは、予期せぬ結果を招く可能性があります。慎重に行ってください。

### 4.6. 全体のお知らせの編集とAI要約
*   ホーム画面に表示される「今日の全体のお知らせ」を作成・編集できます。Markdown記法が利用可能です。
*   お知らせの内容が入力されている場合、「AI要約」ボタン（または「AI要約を再生成」ボタン）を押すと、Genkit (Gemini API) を利用してお知らせの内容を自動で要約できます。
*   生成されたAI要約は、お知らせの下に表示されます。AI要約は、管理者であれば削除することも可能です。
*   お知らせの内容が変更された場合、再度AI要約を生成できます（この操作は一般ユーザーも可能です）。

### 4.7. 学校行事の登録・編集・削除（カレンダー）
*   カレンダーページから、学校行事（遠足、体育祭、試験期間など）を登録、編集、削除できます。
*   行事名、開始日、終了日（任意）、詳細説明を設定できます。
*   登録された行事はカレンダーに表示されます。
<!-- ADMIN_SECTION_END -->
---

## 5. 利用規約

本アプリケーション ClassConnect (以下「本ツール」といいます) を利用される前に、以下の利用規約をよくお読みください。本ツールを利用することで、本規約に同意したものとみなします。

### 5.1. ツールの目的と免責事項
*   本ツールは、クラス内の情報共有を補助することを目的として提供されます。
*   本ツールの提供者は、本ツールの利用によって生じたいかなる損害（データの損失、業務の中断、その他の金銭的損害を含むがこれに限らない）についても、一切の責任を負いません。
*   本ツールは現状有姿で提供され、バグや障害がないこと、特定の目的に適合すること、第三者の権利を侵害しないことを保証するものではありません。

### 5.2. データの取り扱いと責任
*   本ツールに入力されたデータ（時間割、お知らせ、課題、科目情報など）は、基本的に誰でも閲覧・編集が可能です（管理者機能を除く）。データの正確性、機密性については利用者の責任において管理してください。
*   重要な情報や個人情報を含むデータの取り扱いには十分注意してください。

### 5.3. 禁止事項
*   本ツールの意図的な妨害行為（不正なデータの入力、システムの脆弱性を利用した攻撃など）。
*   本ツールおよびそのデータを、クラス運営の目的を著しく逸脱する形で、むやみに外部に公開または共有する行為。
*   法令または公序良俗に違反する行為。

### 5.4. AI機能に関する注意
*   本ツールには、AI（人工知能）を利用した機能（お知らせの要約など）が含まれる場合があります。
*   AIによって生成された情報は、必ずしも正確または完全であるとは限りません。重要な判断を行う際は、必ず元の情報を確認し、ご自身の責任において利用してください。
*   AI機能の利用によって生じたいかなる結果についても、本ツールの提供者は責任を負いません。

### 5.5. 規約の変更
*   本ツールの提供者は、必要に応じて本規約を変更できるものとします。変更後の規約は、本ツール上で表示された時点から効力を生じるものとします。

### 5.6. その他
*   本ツールの仕様は、予告なく変更されることがあります。

---

## 6. オープンソースライセンス

ClassConnect は、以下のオープンソースソフトウェアを利用して開発されています。これらのソフトウェアのライセンス条件は、各ソフトウェアの公式サイトまたは配布元で確認できます。

*   **Next.js:** MIT License
*   **React:** MIT License
*   **Tailwind CSS:** MIT License
*   **Firebase SDKs (firebase, firebase-admin):** Apache License 2.0
*   **Genkit（および @genkit-ai パッケージ）:** Apache License 2.0
*   **Shadcn/UI (Radix UI, Lucide Reactなどを含む):** MIT License
*   **Tanstack Query (@tanstack/react-query):** MIT License
*   **date-fns:** MIT License
*   **Zod:** MIT License
*   **React Hook Form:** MIT License
*   **React Markdown:** MIT License
*   **clsx:** MIT License
*   **tailwind-merge:** MIT License

その他、多数の依存パッケージが含まれています。詳細は `node_modules` 配下の `LICENSE` ファイルや `package.json` をご確認ください。

---

## 7. 困ったときは

*   **データが正しく表示されない、更新されない:**
    *   インターネット接続を確認してください。
    *   ブラウザを再読み込みしてみてください。
    *   それでも解決しない場合は、管理者にご連絡いただくか、お問い合わせフォームからご報告ください。
*   **操作方法がわからない:**
    *   このヘルプガイドの該当箇所をご確認ください。
    *   解決しない場合は、管理者にお尋ねください。
